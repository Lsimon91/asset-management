{% extends "layout.twig" %}

{% block title %}Editar Usuario{% endblock %}

{% block content %}
    <h1>Editar Usuario</h1>
    <form action="/usuarios/edit/{{ usuario.id }}" method="POST">
        <div>
            <label for="nombre">Nombre:</label>
            <input type="text" id="nombre" name="nombre" value="{{ usuario.nombre }}" required>
        </div>
        <div>
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" value="{{ usuario.email }}" required>
        </div>
        <div>
            <label for="contraseña">Contraseña (dejar en blanco para no cambiar):</label>
            <input type="password" id="contraseña" name="contraseña">
        </div>
        <div>
            <label for="role_id">Rol:</label>
            <select id="role_id" name="role_id" required>
                <option value="1" {% if usuario.role_id == 1 %}selected{% endif %}>Administrador</option>
                <option value="2" {% if usuario.role_id == 2 %}selected{% endif %}>Operador</option>
                <option value="3" {% if usuario.role_id == 3 %}selected{% endif %}>Usuario</option>
            </select>
        </div>
        <div>
            <label for="sub_empresa_id">Sub-empresa:</label>
            <select id="sub_empresa_id" name="sub_empresa_id">
                <option value="">Ninguna</option>
                {# Aquí deberías cargar dinámicamente las sub-empresas #}
            </select>
        </div>
        <button type="submit">Actualizar Usuario</button>
    </form>
{% endblock %}
